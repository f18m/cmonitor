<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Monitoring data for hostname MSP153</title>
  <style>
     html,body { height:85%; }
     body { background-color: #eaeaea; }
     h3 { margin: 0px; }
     ul { margin: 0 0 0 0;padding-left: 20px; }
     button { margin-bottom: 3px; }
     #hostname_span { background-color: white; color: red; padding: 4px; }
     #button_table { width:100%; border-collapse: collapse; }
     #button_table_col { border: darkgrey; border-style: solid; border-width: 2px; padding: 6px; margin: 6px; }
     #chart_master_div { width:98%; height:85%; border: darkgrey; border-style: solid; border-width: 2px; margin-left: auto; margin-right: auto}
     #chart_master_inner_div { position: absolute; top: 50%; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%); }
     #chart_master_inner_p { font-size: x-large; }
     #bottom_div { float:left; border: darkgrey; border-style: solid; border-width: 2px; padding: 6px; margin: 6px; }
     #bottom_div h3 { font-size: medium; }
     #bottom_div li { font-size: smaller; }
     #bottom_table_val { font-family: monospace; }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pako@1.0.10/dist/pako.min.js"></script>
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript">
/* Load GoogleCharts: */
google.load("visualization", "1.1", {packages:["corechart"]});
google.setOnLoadCallback(setup_button_click_handlers);

/* The global chart object: */
var g_chart = null;

/* Currently selected data & options: */
var g_current_data = null;
var g_current_options = null;

/* The global window showing the configuration of all collected data: */
var g_configWindow = null;

/* Create a trigger for window resize that will redraw current chart */
var g_window_resize_timer = null;
window.addEventListener('resize', function(e){
  if (g_window_resize_timer) 
    clearTimeout(g_window_resize_timer);

  g_window_resize_timer = setTimeout(function() {
    if (g_current_data && g_current_options)
      g_chart.draw(g_current_data, g_current_options);
  }, 500);
});

/* Utility function used with combobox controls: */
function call_function_named(func_name) {
  eval(func_name + "()");
}

/* Utility function used to clear main graph: */
function clear_chart() {
  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
}

function draw_graph1() {
  var deflated_data_base64_graph1 = 'eNqVlc9u2zAMxl9l8KkDBMGiSEnubcCOe4MghxQNhgLttkNQYBj27hP/uLFTM2t88EH4fST9iaR3uz/D6fev43A/PB5Ox9PTy3EIw/Ph4fjcj77OR3/D8O3n4fHL6/dPd+nl6cfnYXFAlwdJT/ZhJxHuYIQUSkgpjIFSgNppiBP1V6n8rjQuH/SUmZU5jqK5QYesw5iA5rwNcFo81VOSZpxu00HQhGP/ul4u61ayqXi6xEKKdY33IMgVVPJ04mlhZ3IkkKzgwtnglX3d3VhU6adBLS8LRwK7LKkHrS5qcuBsfimF9Wr9WU3CWD4QF7Rg7JBETX5UcwXW3hNfYxeCLzRT9EMneV+hySxUGq7SGAz+f2CcW6eRdXqO2UPhXDFGYNIPa7b0iKtmQSkqV1eHqtMcdrEuLKZUKRtlJ8jNbtMUDJbIyrpoUnZktDFZXdRGSIJqVJ81U8Rrns7ikqgF9Hvvc4UXQ109FWn83n2bMs+aElSHooOLRr4qXHaPsh5pPiUnhZshawZu+W2lL7UJ4xHY8qN5Opu1Bjfpqk1d0XRcW/OMq28bW2Beos1FF2PXUYlbXdjsyucaXNTsKdP6p9FzwOUnT14Ms4q0to/q2tuC2vLXFc2evSuYd9FEnmxe5mf/fHbuNkZBNsXoofOmstDo/wA7gjqYbBXYpt3v/wH+7AEH\n';
  var deflated_data_binary_graph1 = window.atob(deflated_data_base64_graph1);
  var inflated_data_graph1 = JSON.parse(pako.inflate(deflated_data_binary_graph1, { to: 'string' }));
  var data_graph1 = google.visualization.arrayToDataTable(inflated_data_graph1);
  var options_graph1 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Average Load  (from baremetal stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "Load (%)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph1, options_graph1);
  g_current_data = data_graph1;
  g_current_options = options_graph1;
  reset_combo_boxes("");
}

function draw_graph2() {
  var deflated_data_base64_graph2 = 'eNp9071qwzAQwPF30dSCOHSfkjr3DUqnkCGlHgoJlCZLKH33ymdnPG3G/iHpL0uHw2+63b+X9JI+T7fl9nVZUk7n08dyHq9eH6/+cnq/Lj/j09v9elsu6ZgP/vWJCmG2jJhLVsxUn1OmDko9lwjxitCgGsZIHDE01hjpiqQDk0SI8mqsQROMDa5IGZBj421iwOM5RN7WGVhqjLxNBYwtRt7GCIVbhHhrA7UeE0+jNsbhGHkbM2iTGHkbdxCbjLT9twq1TNDWpmO6cCvF27TPdlK2uHEASo/NdibHcWstRt6mFXqdzCb7KZE2mc7b6tjvcDb1NDZAtNh4GhboIjHyNlw3iWLkba1AwwnyNgHsGhtPsw4UnzfzNlSoKrHxNiOoFWNE+y+x+FLa1rZeyqIx2toYKk7W5HGqgBSuqeZ93b1TbB4XjnqPEe3bVHAyEu/TWZUYbXHjvDk6/gPkNEa+\n';
  var deflated_data_binary_graph2 = window.atob(deflated_data_base64_graph2);
  var inflated_data_graph2 = JSON.parse(pako.inflate(deflated_data_binary_graph2, { to: 'string' }));
  var data_graph2 = google.visualization.arrayToDataTable(inflated_data_graph2);
  var options_graph2 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Logical CPU 0 (from CGroup stats), STACKED graph",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "Time (%)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  1
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph2, options_graph2);
  g_current_data = data_graph2;
  g_current_options = options_graph2;
  reset_combo_boxes("cgroup_cpus");
}

function draw_graph3() {
  var deflated_data_base64_graph3 = 'eNp9lL1OQzEMRt8lE0iRFcd/N8y8AWKqOhRxB6RWQnCXCvHupL4pm7MmR7GP8yWHw0/arp9rekrvp23dPi5ryul8elvPfen5vvSb0+v3+tW3Xq7f23pJx3zw3YdaKmbNiLlkwVztMeUqUJYllwiiG6QNyFoMsUMVGnEMyQ3CBotSBNXsjEIrLWbwBkmvVjCG6qhGqjHkclVBZi3xgLQsMSQDYpMIIpcjg1YnjMup9ClpDLncUkEsZtzNFIxrDLkb92oUM65GAoghxK7GCIIcM66GBLVYDLkaLaA8OYlGTKRNoHsoLR43/4eSKRy37PfW5eKWZJfrU7JlArmcIMRJkuHWX2WbQO5m1AMwgfZMFkAO563uJgxNYgTHtFVbDNXRNsWImzFBfGk6Arn01E5quVjrN0thNcsjbC2uZruZGZi0GNofG4JWjaH9J+mfWxw2G3K9J+/7+AeN9EZ5\n';
  var deflated_data_binary_graph3 = window.atob(deflated_data_base64_graph3);
  var inflated_data_graph3 = JSON.parse(pako.inflate(deflated_data_binary_graph3, { to: 'string' }));
  var data_graph3 = google.visualization.arrayToDataTable(inflated_data_graph3);
  var options_graph3 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Logical CPU 1 (from CGroup stats), STACKED graph",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "Time (%)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  1
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph3, options_graph3);
  g_current_data = data_graph3;
  g_current_options = options_graph3;
  reset_combo_boxes("cgroup_cpus");
}

function draw_graph4() {
  var deflated_data_base64_graph4 = 'eNp1lb2OU0EMRt/lViCNrPG/TQsPQEMVbbGIFEiLRJFmhXh3PHPvUq2rJJOT8Rz7u5Pb7c/xeP19Pz4dP54f98fPX/djHC/P3+8vtfTlbenvOD5//TaP/YLH07jt7z7QJBw2EMccioP84zEoQSkHKcyIjuRFooFbrSawZ0fKJhmCdRhBsnSkLlJqM5KBCWH8PkljgRYQgusMObMDcZHKgFyfCsQO3OZiwOtHdQSzjtzmycDigwy0P+U2VwFjW6TN6MhtzgiTY5Hi+j7Jp3kVzToHJLXcFqeoHXmYVi+tI7c5M2jICAL1DtzinCBWx6jJC3XkOXIHn/W+inMHnt5atWm9IDakbG/N3XRBUJQOxCtEM1foaHoHnlkvj4jBASbtlltcq93uK26aLSlX3CRyZd27+chp7jWfWHETbsajW5ytWmMrINqdUk9xnJAiq5ceLbnNV8ilklehiw7c4jEhsB6Kug6yJbe4AGYduKLkLbi968KgSjBNQGnmY1u8ivpqlkBqx23v1Wzfl4FZdiRdc7S6DWpn7jh+uwtmiTF047bLmsGxRh/1RLSlt7ZWwms166zcFPdx2WTSym92xf3/E06Zw+tZ0+xIulo5a4yBYGQdyVd1c1l/A9Hl1y/1ym+Rq0cl9PQP8vlrPg==\n';
  var deflated_data_binary_graph4 = window.atob(deflated_data_base64_graph4);
  var inflated_data_graph4 = JSON.parse(pako.inflate(deflated_data_binary_graph4, { to: 'string' }));
  var data_graph4 = google.visualization.arrayToDataTable(inflated_data_graph4);
  var options_graph4 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "All logical CPUs assigned to cmonitor_collector CGroup (from CGroup stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "Time (%)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph4, options_graph4);
  g_current_data = data_graph4;
  g_current_options = options_graph4;
  reset_combo_boxes("");
}

function draw_graph5() {
  var deflated_data_base64_graph5 = 'eNp1lM2qE0EQhV/lMqsrNKH+u8udePEBBFchi3gzYHBEMXEh4rtbk0kCpqd2w8x3prrqnOrt9s9w/v1jHN4Oh/15PB+/jUMZpv3ncYpXL7dXf8vw6TQe4tP7/euX8fD0/HI8ff047g9v4t27afr++vRhf5x+/RxPw65sL8pnAsJiBbFAUSxUA4aNkVlr8QAFyZks43nmaWMqBK0g0Aa1MQfg2qRmMlnKiKuhXcoQhRAzXjuegVFpnady7YLl2gRrdUhpXPCqbCYXXlSQJePp8ffK6GYZzh3eQBgyXB5xIyflDL+PxivSwsfvPRk9d6Op5A1TGq/+GsnF3Ti4SSsNiEkyES2iKkAXGW48dE1Kozkmmew2J2zii8kOTjU9m/R8WAic8XrjZTE5+gGoSebkPiio7cZb02wVZCVFiKoGngmor0BigJoJ+D8zYqpccY4vY/NsF2QZ090N1Y01p9iiCDgipcW0P50Q18x1Ld2KooK5acbjYxLRAJqm/MrVFH6AWCa4302NQa53E8zmY42mslzpyuWE1diJMkF/O0Uk4xZMVtxWRtUcTWvGY9+6C7CmBa6zqnOJRRAAu2sm4M5tioGZUCaQFYE6W9qDdm7EOs2JJJq3PFnDWm7pFaZFpXOZULGoSabC/niMEMPIBH26okAFTM+1MjEBjZ3KBNJ7Eo8R+t3uHz0DskA=\n';
  var deflated_data_binary_graph5 = window.atob(deflated_data_base64_graph5);
  var inflated_data_graph5 = JSON.parse(pako.inflate(deflated_data_binary_graph5, { to: 'string' }));
  var data_graph5 = google.visualization.arrayToDataTable(inflated_data_graph5);
  var options_graph5 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Memory used by cmonitor_collector CGroup in MB (from CGroup stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    series: {
     0: {targetAxisIndex:0},
     1: {targetAxisIndex:0},
     2: {targetAxisIndex:1},
    },
    vAxes: {
      0: { title: "MB" },
      1: { title: "Alloc Failures" }
    },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph5, options_graph5);
  g_current_data = data_graph5;
  g_current_options = options_graph5;
  reset_combo_boxes("");
}

function draw_graph6() {
  var deflated_data_base64_graph6 = 'eNp1krFOAzEMhl/llAmkKNhJnNhrOyAGBAvTqQMSNzAclXq39O25axFqnfMWOZ/+fLHd925/HMfPny/n3f79o5u/x2E5vjy9dc+7tfZ/+zqMx9O5253nYXIH37tpPg3T5HwNgB4C+L9K95BAgB6dlxyBA9zCJUi6h6MQZQtmUjAzJguuCk4ItVpwLCq5sqzOCDED3NMUCusfRuE1mhPkBs7aA4shTSFpD4FiSC8PRS0tlkYK1DjnitvJKSTRzrGQBUc9FcGrc6sRQ0E9QkGyYGqSK5lwliZZyrYzBq66dTmyBVcNM15at7Uc2ErzskwmnbOmExkzxJD0KgHVW/jwC4gO+jo=\n';
  var deflated_data_binary_graph6 = window.atob(deflated_data_base64_graph6);
  var inflated_data_graph6 = JSON.parse(pako.inflate(deflated_data_binary_graph6, { to: 'string' }));
  var data_graph6 = google.visualization.arrayToDataTable(inflated_data_graph6);
  var options_graph6 = {
    explorer: { actions: ["dragToZoom", "rightClickToReset"], keepInBounds: true, maxZoomIn: 20.0 },
    chartArea: { left: "5%", width: "85%", top: "10%", height: "80%" },
    title: "Top 20 processes CPU/Disk total usage on X/Y axes; memory usage as bubble size (from cgroup stats)",
    hAxis: { title:"CPU time" },
    vAxis: { title:"I/O GB" },
    sizeAxis: { maxSize: 200 },
    bubble: { textStyle: {fontSize: 15} }
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.BubbleChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph6, options_graph6);
  g_current_data = data_graph6;
  g_current_options = options_graph6;
  reset_combo_boxes("");
}

function draw_graph7() {
  var deflated_data_base64_graph7 = 'eNqt1sFOwzAMBuBXQT2BFEWxHTsJZ95i2mGIHpCGhFgvCPHupEMbTWjaro12mpV+yfI3zna7r6b7fG+bx+bl0LXd61vbqOZ4eG6PsfR0KX2r5tR9tKfT3T2ZYPih+StgYLZJwXugYYHAOJeMcD4kBhkMPn0EhNJZjGRGyB4x1kFqoGQrhczwAbIRjjkbESSd1qJPR0A6Lfr489ICcbZS7kfs1e68w/doEJQoAGUUg4J+jWbyA14L4+VrCcJ5yMwZVMGwFQzebKAaEoKag13njAZkjYYgt0GLAgKnJfhpaGFKwNr+UiVocVRgNfVUCdqeF6kKBFQwsIJxDUh8jADXQ5MBoWgT3DJoNiC02g+xcciOpMQ0dbZKzkRUhHHT3FJoe162QtuzFdqevaQkQcfLaz3E288Sz50lvDaXOQgrLIYqGLaCsb3PiapAZNmwaBd4DVTIhjiCcgt0Q0BA/V1SgmyF7dmeklMViHNKzsQmDdugQUri4rGjtdC/lOKbQ1P/i0pQMSWieI2MvDn7/Q+2C5RZ\n';
  var deflated_data_binary_graph7 = window.atob(deflated_data_base64_graph7);
  var inflated_data_graph7 = JSON.parse(pako.inflate(deflated_data_binary_graph7, { to: 'string' }));
  var data_graph7 = google.visualization.arrayToDataTable(inflated_data_graph7);
  var options_graph7 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Top 20 processes CPU usage by process (from cgroup stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "CPU (%)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph7, options_graph7);
  g_current_data = data_graph7;
  g_current_options = options_graph7;
  reset_combo_boxes("");
}

function draw_graph8() {
  var deflated_data_base64_graph8 = 'eNqt0c1KQzEQBeBXkawqzCLzkz/XvsWli4pZCBXEezdSfHfbQtEJCEoOd3eYfJPcsyynsH289fAQng9b315ee6BwPDz14zl6vEWfFNbtva/r3U5ji+k+fAfSUjIX1Mr6M1COpbiJUpszNEqr/ghn9VtiHow2HIlW2BuSh5vyYNTGw0RJaZho2a81qX6C/Vqp5+f5QNNw03SZ2NNy/cM7icKUiZkiJSa+3DH+7fvNEIChAMMARpo2hAAEAwwBGAowDGDM16IEIBhgCMBQgGEAY74WIwDBAEMAhgIMAxjztSQCEAwwBGAowDCAMV9LJgDBAEMAhgIMAxjztRQCEAwwBGAowPhXLfsvBW5/sQ==\n';
  var deflated_data_binary_graph8 = window.atob(deflated_data_base64_graph8);
  var inflated_data_graph8 = JSON.parse(pako.inflate(deflated_data_binary_graph8, { to: 'string' }));
  var data_graph8 = google.visualization.arrayToDataTable(inflated_data_graph8);
  var options_graph8 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Top 20 processes IO usage by process (from cgroup stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "IO Read+Write (Bytes Per Sec)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph8, options_graph8);
  g_current_data = data_graph8;
  g_current_options = options_graph8;
  reset_combo_boxes("");
}

function draw_graph9() {
  var deflated_data_base64_graph9 = 'eNqtlcFugzAMQH9lyqmTMmQ7CSQ77y8Qh07jMKmTpsGlmvbvo5VYSYoJDIub5bw4eXao62/Vnz9b9azejn3bv3+0SqvT8bU9DaGXMfSjVdd/tV33cDAQwD2qW4CCczYKeI9mGjAIVRVlVD5EDAMUfLwESxPvAmXCCMkSsBXGDCqTSjFh+IBJRuVckhHKeFtLPs7AeFvyw/HigHFJpe6S0ej6esMHAkJdakQN2qHGS42w+IXCEvj2CdwY4mCUh0GOYQQYVoDhdjNIR4gCABDI/g816ykUfmjEqZl1sHWe4oI51lpfUxrHWu1tenAOtl+g0QIIFGCQAOPP0/04b4ctiuK6koNlRc1VPA+zM8by5+VYC+r4yeNg+x1agbfRCryNdjS2pZM4mNs/Yy43Y/OyOBgJFGQEGFaAsf8NLLUAIvGT+20twxg/y83IwTaIulXNwazAVe03VmkBxNXYtvnmYRNj65Ec7M7YGiQHY40tQZvmFyqrpgM=\n';
  var deflated_data_binary_graph9 = window.atob(deflated_data_base64_graph9);
  var inflated_data_graph9 = JSON.parse(pako.inflate(deflated_data_binary_graph9, { to: 'string' }));
  var data_graph9 = google.visualization.arrayToDataTable(inflated_data_graph9);
  var options_graph9 = {
    chartArea: {left: "5%", width: "85%", top: "10%", height: "80%"},
    title: "Top 20 processes memory usage by process (from cgroup stats)",
    focusTarget: "category",
    hAxis: { gridlines: { color: "lightgrey", count: 30 } },
    vAxis: { title: "RSS Memory (GB)", gridlines: { color: "lightgrey", count: 11 } },
    explorer: { actions: ["dragToZoom", "rightClickToReset"], axis: "horizontal", keepInBounds: true, maxZoomIn: 20.0 },
    isStacked:  0
  };

  if (g_chart && g_chart.clearChart)
    g_chart.clearChart();
  g_chart = new google.visualization.AreaChart(document.getElementById("chart_master_div"));
  g_chart.draw(data_graph9, options_graph9);
  g_current_data = data_graph9;
  g_current_options = options_graph9;
  reset_combo_boxes("");
}

function setup_button_click_handlers() {
  document.getElementById("btn_draw_graph1").addEventListener("click", draw_graph1);
  document.getElementById("btn_draw_graph4").addEventListener("click", draw_graph4);
  document.getElementById("btn_draw_graph5").addEventListener("click", draw_graph5);
  document.getElementById("btn_draw_graph6").addEventListener("click", draw_graph6);
  document.getElementById("btn_draw_graph7").addEventListener("click", draw_graph7);
  document.getElementById("btn_draw_graph8").addEventListener("click", draw_graph8);
  document.getElementById("btn_draw_graph9").addEventListener("click", draw_graph9);
  document.getElementById("btn_show_config").addEventListener("click", show_config_window);
}

/* Utility function used to reset combobox controls: */
function reset_combo_boxes(combobox_to_exclude_from_reset) {
  if (combobox_to_exclude_from_reset != "cgroup_cpus")
      document.getElementById("select_combobox_cgroup_cpus").value = "clear_chart";
}

function show_config_window() {
    if (g_configWindow) g_configWindow.close();
    g_configWindow = window.open("", "MsgWindow", "width=1024, height=800, toolbar=no");
    g_configWindow.document.write("\
    <html><head>\
      <title>Configuration</title>\
      <style>\
        table { padding-left: 2ex; }\
        #sectioncol {font-weight: bold; padding: 1ex; font-size: large;background-color: lightsteelblue;}\
        #configkey {font-weight: bold;}\
        #configval {font-family: monospace;}\
      </style>\
    </head><body>\
      <h2>Monitored System Summary</h2>\
      <table>\
<tr><td colspan='2' id='sectioncol'>Server Identity</td></tr>\
    <tr>\
    <td id='configkey'>Hostname</td><td id='configval'>MSP153</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Shorthostname</td><td id='configval'>MSP153</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Lo ip4</td><td id='configval'>127.0.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Eno1 ip4</td><td id='configval'>172.20.52.153</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Eno2 ip4</td><td id='configval'>192.168.66.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Virbr0 ip4</td><td id='configval'>192.168.122.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Flannel.1 ip4</td><td id='configval'>10.42.0.0</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Docker0 ip4</td><td id='configval'>172.17.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cni0 ip4</td><td id='configval'>10.42.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-2033c628bee1 ip4</td><td id='configval'>172.22.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-3972b62fe577 ip4</td><td id='configval'>192.168.96.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-336dca9c7be8 ip4</td><td id='configval'>192.168.176.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-f1f05557c716 ip4</td><td id='configval'>192.168.192.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-99da067af26a ip4</td><td id='configval'>192.168.208.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-de815e74be7d ip4</td><td id='configval'>192.168.240.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-7c0e40509c51 ip4</td><td id='configval'>172.19.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-caeea684444a ip4</td><td id='configval'>172.21.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-c0e28368130a ip4</td><td id='configval'>172.23.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-5716e55410f8 ip4</td><td id='configval'>172.27.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-3bc75bc22b0c ip4</td><td id='configval'>172.25.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-3e7ca8445e9e ip4</td><td id='configval'>172.26.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-0e1b4f328e84 ip4</td><td id='configval'>172.28.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-3c7e3fe17dfe ip4</td><td id='configval'>172.29.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-fab8f4ca1154 ip4</td><td id='configval'>172.30.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-f862cbfd920a ip4</td><td id='configval'>172.31.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-342bd2c87500 ip4</td><td id='configval'>192.168.0.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-c3044274e3f5 ip4</td><td id='configval'>192.168.16.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-d7b58e8a0815 ip4</td><td id='configval'>192.168.48.1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vethf2f637f ip6</td><td id='configval'>fe80::744f:eeff:fe07:e120</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Lo ip6</td><td id='configval'>::1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Eno1 ip6</td><td id='configval'>fe80::2979:7829:ff99:a609</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vetha512bae ip6</td><td id='configval'>fe80::c4ac:70ff:feae:ea34</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth65eb354 ip6</td><td id='configval'>fe80::5098:c9ff:fe22:6221</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth4ca83f0 ip6</td><td id='configval'>fe80::bcc1:92ff:fe68:f3cf</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Flannel.1 ip6</td><td id='configval'>fe80::f056:b0ff:fef4:5a76</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth9294a77 ip6</td><td id='configval'>fe80::1c:40ff:fece:efdc</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Docker0 ip6</td><td id='configval'>fe80::42:5eff:fef0:649a</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cni0 ip6</td><td id='configval'>fe80::e889:78ff:fe0f:3d17</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth921ca6d ip6</td><td id='configval'>fe80::a082:82ff:fed6:2325</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-3972b62fe577 ip6</td><td id='configval'>fe80::42:16ff:fe96:6cea</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth4d5a7d2 ip6</td><td id='configval'>fe80::d42c:12ff:fea1:9b2d</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth52e1d51 ip6</td><td id='configval'>fe80::2415:52ff:fe68:558</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vethd28ca25 ip6</td><td id='configval'>fe80::d0b1:aaff:feae:3907</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth8bce27f ip6</td><td id='configval'>fe80::78e5:3bff:fea9:8387</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth390c1bf ip6</td><td id='configval'>fe80::8c82:26ff:febb:2da6</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth3083e41 ip6</td><td id='configval'>fe80::5cca:7aff:fe59:bfb2</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vethd7ef44c ip6</td><td id='configval'>fe80::3ce1:afff:fed5:1fa5</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth65b4fa6 ip6</td><td id='configval'>fe80::4cdf:b7ff:fec0:e4f7</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth1a5e685 ip6</td><td id='configval'>fe80::e81f:87ff:fedd:7392</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Veth23d1067 ip6</td><td id='configval'>fe80::48e9:1aff:fe66:9ded</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vethe5a7614 ip6</td><td id='configval'>fe80::24e7:6aff:feca:11aa</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Br-5716e55410f8 ip6</td><td id='configval'>fe80::42:35ff:feb7:88c1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vethc7ac412 ip6</td><td id='configval'>fe80::34e6:bbff:febb:40d9</td>\
    </tr>\
    <tr>\
    <td id='configkey'>All ip addresses</td><td id='configval'>127.0.0.1,172.20.52.153,192.168.66.1,192.168.122.1,10.42.0.0,172.17.0.1,10.42.0.1,172.22.0.1,192.168.96.1,192.168.176.1,192.168.192.1,192.168.208.1,192.168.240.1,172.19.0.1,172.21.0.1,172.23.0.1,172.27.0.1,172.25.0.1,172.26.0.1,172.28.0.1,172.29.0.1,172.30</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Serial-number</td><td id='configval'>............</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Model</td><td id='configval'>S2600GZ</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vendor</td><td id='configval'>Intel Corporation</td>\
    </tr>\
<tr><td colspan='2' id='sectioncol'>Operating System Release</td></tr>\
    <tr>\
    <td id='configkey'>Name</td><td id='configval'>CentOS Linux</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Version</td><td id='configval'>7 (Core)</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Version id</td><td id='configval'>7</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Pretty name</td><td id='configval'>CentOS Linux 7 (Core)</td>\
    </tr>\
<tr><td colspan='2' id='sectioncol'>Linux Kernel Version</td></tr>\
    <tr>\
    <td id='configkey'>Version</td><td id='configval'>Linux version 3.10.0-1160.15.2.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) ) #1 SMP Wed Feb 3 15:06:38 UTC 2021</td>\
    </tr>\
<tr><td colspan='2' id='sectioncol'>Linux Control Group (CGroup) Configuration</td></tr>\
    <tr>\
    <td id='configkey'>Name</td><td id='configval'>docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Memory path</td><td id='configval'>/sys/fs/cgroup/memory/docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpuacct path</td><td id='configval'>/sys/fs/cgroup/cpu,cpuacct/docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpuset path</td><td id='configval'>/sys/fs/cgroup/cpuset/docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpus</td><td id='configval'>0, 1</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Memory limit bytes</td><td id='configval'>100.0MiB</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Num allowed cpus</td><td id='configval'>2</td>\
    </tr>\
<tr><td colspan='2' id='sectioncol'>CPU Overview</td></tr>\
    <tr>\
    <td id='configkey'>Architecture</td><td id='configval'>x86_64</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Byte order</td><td id='configval'>Little Endian</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpus</td><td id='configval'>40</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Online cpu list</td><td id='configval'>0-39</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Threads per core</td><td id='configval'>2</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cores per socket</td><td id='configval'>10</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Sockets</td><td id='configval'>2</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Numa nodes</td><td id='configval'>2</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Vendor id</td><td id='configval'>GenuineIntel</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpu family</td><td id='configval'>6</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Model</td><td id='configval'>62</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Model name</td><td id='configval'>Intel(R) Xeon(R) CPU E5-2680 v2 @ 2.80GHz</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Stepping</td><td id='configval'>4</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpu mhz</td><td id='configval'>3104.028</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpu max mhz</td><td id='configval'>3600.0000</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Cpu min mhz</td><td id='configval'>1200.0000</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Bogomips</td><td id='configval'>5586.55</td>\
    </tr>\
<tr><td colspan='2' id='sectioncol'>Memory Overview</td></tr>\
    <tr>\
    <td id='configkey'>Memtotal</td><td id='configval'>184.2GiB</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Hugepages total</td><td id='configval'>16</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Hugepagesize</td><td id='configval'>1000.0MiB</td>\
    </tr>\
      </table>\
      <h2>Monitoring Summary</h2>\
      <table>\
<tr><td colspan='2' id='sectioncol'>Performance Stats Collector Configuration</td></tr>\
    <tr>\
    <td id='configkey'>Command</td><td id='configval'>../src/cmonitor_collector --sampling-interval=10 --num-samples=60 --collect=all_cgroup --foreground --output-filename=docker-userapp.json --cgroup-name=docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec --custom-metadata=cmonitor_chart</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Sample interval seconds</td><td id='configval'>10</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Sample num</td><td id='configval'>60</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Version</td><td id='configval'>1.4-4</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Collecting</td><td id='configval'>cgroup_cpu,cgroup_memory,cgroup_blkio,cgroup_processes</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Username</td><td id='configval'>root</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Userid</td><td id='configval'>0</td>\
    </tr>\
    <tr>\
    <td id='configkey'>Pid</td><td id='configval'>27286</td>\
    </tr>\
      </table>\
    </body></html>\
");
}

  </script>
</head>
<body>
  <h1>Monitoring data collected from host <span id="hostname_span">MSP153</span></h1>
  <div id="button_div">
  <table id="button_table">
  <tr>
    <td id="button_table_col"></td><td id="button_table_col"><b>CGroup</b> (docker/b237d8e457009ad36ebe39fd18ca4ac7d8303c90af3ce95b462226de39b88eec)</td>
    <td id="button_table_col"><b>Baremetal</b> (Data collected from /proc)</td>
  </tr>
  <tr>
  <td id="button_table_col">
    <button id="btn_show_config"><b>Configuration</b></button><br/>
  </td><td id="button_table_col">
    <select id="select_combobox_cgroup_cpus" onchange="call_function_named(this.value)">
      <option value="clear_chart">None</option>
      <option value="draw_graph2">CPU0</option>
      <option value="draw_graph3">CPU1</option>
    </select>
    <button id="btn_draw_graph4" style="color:red"><b>All CPUs</b></button>
    <button id="btn_draw_graph5" style="color:darkorange"><b>Memory Usage</b></button>
    <button id="btn_draw_graph6" style="color:red"><b>CPU/Memory/Disk Bubbles</b></button>
    <button id="btn_draw_graph7" style="color:red"><b>CPU by Process</b></button>
    <button id="btn_draw_graph8" style="color:black"><b>IO by Process</b></button>
    <button id="btn_draw_graph9" style="color:darkorange"><b>Memory by Process</b></button>
      </td><td id="button_table_col">
    <button id="btn_draw_graph1" style="color:black"><b>Average Load</b></button>
  </td></tr>
  </table>
  </div>
  <p></p>
  <div id="chart_master_div"><div id="chart_master_inner_div"><p id="chart_master_inner_p">...click on a button above to show a graph...</p></div></div>
  <div id="bottom_div">
    <h3>Monitoring Summary</h3>
    <table>
    <tr><td><ul>
      <li>Version: <span id='bottom_table_val'><a href="https://github.com/f18m/cmonitor">cmonitor</a> 1.4-4</span></li>
      <li>Collected: <span id='bottom_table_val'>cgroup_cpu,cgroup_memory,cgroup_blkio,cgroup_processes</span></li>
      <li>Started sampling at: <span id='bottom_table_val'>2021-06-10T22:51:17 (UTC)</span></li>
      <li>Samples: <span id='bottom_table_val'>47</span></li>
      </ul></td><td><ul>
      <li>Sampling Interval (s): <span id='bottom_table_val'>10</span></li>
      <li>Total time sampled (hh:mm:ss): <span id='bottom_table_val'>0:07:50</span></li>
    </ul></td></tr>
    </table>
  </div>
  <div id="bottom_div">
    <h3>Monitored System Summary</h3>
    <table>
    <tr><td><ul>
      <li>Hostname: <span id='bottom_table_val'>MSP153</span></li>
      <li>OS: <span id='bottom_table_val'>CentOS Linux 7 (Core)</span></li>
      <li>CPU: <span id='bottom_table_val'>Intel(R) Xeon(R) CPU E5-2680 v2 @ 2.80GHz</span></li>
      <li>BogoMIPS: <span id='bottom_table_val'>5586.55</span></li>
      </ul></td><td><ul>
      <li>Monitored CPUs: <span id='bottom_table_val'>2</span></li>
      <li>Monitored Disks: <span id='bottom_table_val'>0</span></li>
      <li>Monitored Network Devices: <span id='bottom_table_val'>0</span></li>
    </ul></td></tr>
    </table>
  </div>
<p>NOTE: to zoom use left-click and drag; to reset view use right-click.</p>
</body>
</html>
